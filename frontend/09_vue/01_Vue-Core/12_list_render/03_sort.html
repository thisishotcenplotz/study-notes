<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <script src="../../js/vue.js"></script>
        <title>排序</title>
    </head>
    <body>
        <div id="root">
            <input type="text" placeholder="请输入名字" v-model="keyWord">
            <button @click="sortType = 2">年龄升序</button>
            <button @click="sortType = 1">年龄降序</button>
            <button @click="sortType = 0">原顺序</button>
            <ul>
                <li v-for="p in filPerson" :key="p.id">
                    {{ p.name }} {{p.age}} {{p.gender}}
                </li>
            </ul>
        </div>

        <script>


            new Vue({
                el:'#root',
                data:{
                    keyWord:""
                    ,sortType:0 //0原顺序，1降序，2升序
                    ,personList:[
                        {id:1,name:'马冬梅',age:18,gender:'女'}
                        ,{id:2,name:'周冬雨',age:19,gender:'女'}
                        ,{id:3,name:'周杰伦',age:20,gender:'男'}
                        ,{id:4,name:'温兆伦',age:21,gender:'男'}
                    ]
                },
                computed:{
                    filPerson(){
                        const arr = this.personList.filter((p)=>{
                            return p.name.indexOf(this.keyWord) !== -1
                        })

                        if(this.sortType){
                            arr.sort((a,b)=>{
                                return this.sortType === 1 ?  b.age - a.age : a.age - b.age
                            })
                        }
                        return arr
                    }
                }
            })
        </script>
    </body>
</html>